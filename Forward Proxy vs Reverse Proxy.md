## 프록시(Proxy) 란?

중간에서 대리로 통신을 하는 것을 **프록시**라고 하고, 중계 역할을 하는 것을 **프록시 서버** 라고 부른다. 프록시를 쓰는 이유는 서버와 클라이언트 사이에서 대리로 통신을 수행하여 보안성, 성능, 안정성을 향상 시키기 위함이다.

## 포워드 프록시 (Forward Proxy)

![img](https://github.com/dilmah0203/TIL/blob/main/Image/Forward%20Proxy.PNG)

프록시 서버는 위 처럼 클라이언트 바로 뒤에 놓여 있다. 클라이언트에서 서버로 리소스를 요청할 때 직접 요청하지 않고 클라이언트는 타겟 서버의 주소를 포워드 프록시에게 전달하여, 포워드 프록시가 리소스를 받아와 클라이언트에게 전달한다. 예를들어 클라이언트가 `naver.com`을 요청하면 포워드 프록시 서버는 `naver.com` 리소스를 대신 받아와 클라이언트에게 전달한다.

이 경우 서버에서 받는 IP는 클라이언트의 IP가 아닌 프록시 서버의 IP이기 때문에 서버는 클라이언트가 누군지 알 수 없다. 즉 **서버에게 클라이언트가 누구인지 감춰주는 역할**을 한다.

- 특징
    - 캐싱 : 웹 페이지에 접근하면 프록시 서버는 해당 페이지 서버의 정보를 캐싱(임시보관)해둔다.
이후 해당 페이지에 접근하거나 다른 클라이언트가 해당 페이지를 요청할 때, 캐시된 정보를 그대로 반환할 수 있고, 이는 서버의 부하를 줄일 수 있다.
    - 보안 : 클라이언트가 서버에 직접 접근하는 것을 방지하기 때문에 접근 가능한 사이트를 제한할 수 있다.
    
## 리버스 프록시 (Reverse Proxy)

![img2](https://github.com/dilmah0203/TIL/blob/main/Image/Reverse%20Proxy.PNG)

웹서버/WAS 앞에 위치하여 클라이언트가 서버로 리소스를 요청할 때 리버스 프록시를 호출하고, 리버스 프록시가 서버로부터 응답을 전달받아 다시 클라이언트에게 전송하는 역할을 한다. 예를들어 클라이언트가 `naver.com`에 데이터 요청을 하면 리버스 프록시가 요청을 받아서 서버로 요청을 전달하고 응답을 받아 클라이언트에게 보낸다. 

이 경우 클라이언트는 서버를 직접 호출하는 것이 아니라 프록시 서버를 통해 호출하기 때문에 리버스 프록시는 **서버를 감추는 역할**을 하게된다.

- 특징
    - 로드밸런싱 : 리버스 프록시 서버 뒤에 여러 서버를 두어 사용자의 요청을 분산할 수 있다. 
    - 보안 : 리버스 프록시를 사용하면 서버 측 보안에 좋다. 리버스 프록시를 사용하면 본래 서버의 IP 주소를 노출시키지 않을 수 있다. 클라이언트는 인터넷을 통해 리버스 프록시 서버 url에게 요청을 한다. 그리고 리버스 프록시는 본서버에게 요청을 경유해서 보내게 된다.
이렇게 되면 클라이언트는 본 서버의 url을 모른채 리버스 프록시 url을 통해 서비스를 이용하게 되고, 이는 즉 본서버의 정보를 숨기는 효과가 된다.
    - 캐싱 : 포워드 프록시의 캐싱과 비슷한 기능
