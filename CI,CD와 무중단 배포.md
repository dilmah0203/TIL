## CI/CD와 무중단 배포

### CI란?

지속적 통합이라는 뜻으로, 개발을 진행하면서도 품질을 관리할 수 있도록 하나의 코드에 대해서 수정을 진행해도 지속적으로 통합하면서 관리할 수 있음을 의미한다.

- CI 과정
  - 개발자가 코드 병합 요청 -> CI 툴이 빌드와 테스트 진행 -> 이상이 없으면 코드를 병합

### CD란?

지속적 배포라는 뜻으로, 빌드의 결과물을 프로덕션으로 릴리스하는 작업을 자동화하는 것을 의미한다.

- CD 흐름
  - 앞의 CI 과정을 거치고 난 다음, CD 과정을 통해 서버에 자동으로 배포된다.

### 무중단 배포

> 무중단 배포란? 다운타임없이 서버를 운영할 수 있게 해주는 배포 방식

- 리버스 프록시
  - 인터넷과 서버 사이에 위치한 중계 서버
  - 클라이언트가 요청한 내용을 캐싱
  - 서버 정보를 클라이언트로부터 숨길 수 있어 보안에 용이

![img](https://github.com/dilmah0203/TIL/blob/main/Image/Reverse%20Proxy.png)

리버스 프록시는 **클라이언트의 요청을 대신 받아 이를 서버에 전달**해준다. 서버는 클라이언트로부터 직접 요청을 받는 것이 아닌 리버스 프록시라는 대리서버를 통해 요청을 받기 때문에 보안에 용이하다.

- 로드 밸런싱
  - 부하 분산
  - 서버에 가해지는 부하를 분산해주는 역할
  - 하나의 서버가 멈추더라도 서비스 중단 없이 다른 서버가 서비스를 계속 유지할 수 있는 무중단 배포가 가능

![img2](https://github.com/dilmah0203/TIL/blob/main/Image/Load%20Balancer.png)

**클라이언트의 요청을 여러 서버에 분산**해주는 역할을 한다.

### 무중단 배포 방식

1. Rolling 배포

- 무중단 배포의 가장 기본적인 방식
- 서버를 차례대로 업데이트 시키는 방식

2. Canary 배포

- 신버전을 소수의 사용자들에게만 배포
- 문제가 없는 것이 확인되면 점진적으로 다른 서버에 신버전 배포

3. Blue/Green 배포

- Blue를 구버전, Green을 신버전으로 지칭
- 구버전과 동일하게 신버전의 인스턴스를 구성
- 신버전 배포 시 로드 밸런서를 통해 신버전으로만 트래픽을 전환

<br>

참고

[우아한Tech CI/CD와 무중단 배포](https://www.youtube.com/watch?v=sIPU_VkrguI)
