## HTTP Header

헤더는 `field-name : field value`가 올 수 있다. field-name은 대소문자 구분이 없다. 
HTTP 전송에 필요한 모든 부가정보(메세지 바디의 내용, 크기, 인증, 서버 정보, 캐시 관리 정보)를 담고 있다. 

![img](https://github.com/dilmah0203/TIL/blob/main/Image/HTTP%20Header.png)

- 메세지 본문을 통해 표현 데이터 전달
- **표현**은 요청이나 응답에서 전달할 실제 데이터
- **표현 헤더는 표현 데이터**를 해석할 수 있는 정보 제공
  - 데이터 유형(html, json), 데이터 길이, 압축 정보 등등

1. **표현**
- Content-Type : 표현 데이터의 형식
- Content-Length : 표현 데이터의 길이
- Content-Language : 표현 데이터의 자연 언어
- Content-Encoding : 표현 데이터의 압축 방식

표현 헤더는 전송, 응답 둘다 사용된다.

2. **협상**  : 클라이언트가 선호하는 표현 요청
- Accept : 클라이언트가 선호하는 미디어 타입 전달
- Accept-Charset : 클라이언트가 선호하는 문자 인코딩
- Accept-Encoding : 클라이언트가 선호하는 압축 인코딩
- Accept-Language : 클라이언트가 선호하는 자연 언어

Quality Values(q)값을 사용하여 우선순위를 정할 수 있다. 0~1의 값으로 클수록 높은우선순위를 가진다. 협상 헤더는 요청시에만 사용한다.

3. **전송 방식**
- 단순 전송 : 요청에 대한 응답시 메세지 바디에 대한 Content-Length를 지정하는 전송 방식 
- 압축 전송 : 서버에서 메시지 바디를 압축하여 용량을 감소시켜 전달하는 전송 방식으로 Content-Encoding이라는 항목을 헤더에 넣어 압축방식을 클라이언트에게 전달해주어야 한다.
- 분할 전송 : 서버에서 클라이언트로 응답 메시지를 특정 단위로 쪼개서 보내는 전송 방법으로 Transfer-Encoding을 명시해주어야 한다. chunked라는 덩어리로 쪼개서 보낸다. 분할 전송때는 Content-Length를 넣으면 안된다.(길이를 예측할 수 없기 때문에)
- 범위 전송 : 특정 범위를 지정해서 요청에 대한 응답을 받는 전송방법

4. **일반 정보**
-  Referer : 이전 웹 페이지의 주소, 요청에서 사용
-  User-Agent : 유저 에이전트 애플리케이션 정보(웹 브라우저 정보), 요청에서 사용
-  Server : 요청을 저리하는 ORIGIN 서버의 소프트웨어 정보를 말한다. 응답에서 사용
-  Date : 메세지가 발생한 날짜와 시간을 나타낸다. 응답에서 사용

5. **특별한 정보**
- Host : 요청한 호스트 정보(도메인)로 필수값이다. 요청에서 사용한다.
- Location : 페이지 리다이렉션시에 사용된다. 웹 브라우저는 3xx 응답 결과에 Location헤더가 있으면, Location 위치로 자동 이동한다.
- Allwo : 허용 가능한 HTTP 메소드로 405에서 응답에 포함해야한다.

6. **인증**
- Authorization : 클라이언트 인증 정보를 서버에 전달
- www-Authenticate : 인증이 제대로 되지 않았을 때, 리소스 접근시 필요한 인증 방법 정의(401 Unauthorized 응답과 함께 사용)

7. **쿠키**
- Set-Cookie : 서버에서 클라이언트로 쿠키 전달(응답)
- Cookie : 클라이언트가 서버에서 받은 쿠키를 저장하고, HTTP 요청시 서버로 전달

8. **캐시와 조건부 요청**
- Cache-Control : 캐시 유효 시간을 설정한다. 지시어인 max-age는 초 단위로 설정할 수 있다. no-cache는 캐시해도 되지만 항상 origin 서버에 검증하고 사용한다. no-store는 데이터에 민감한 정보가 있으므로 저장하면 안된다.
