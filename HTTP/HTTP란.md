## HTTP(Hypertext Protocol)

**HTTP**란 **서버와 클라이언트간의 메세지 교환 프로토콜**을 의미한다.

클라이언트가 리소스를 HTTP를 통해 요청하면 TCP, IP 프로토콜을 걸쳐 서버쪽의 HTTP까지 요청이 도달한다. 이에 대한 응답을 다시 서버에서 HTTP로 보내면 TCP, IP 프로토콜을 통과해 클라이언트까지 응답이 도달하게 된다.

## HTTP 프로토콜 구성

![img2](https://github.com/dilmah0203/TIL/blob/main/Image/HTTP.png)

## HTTP 프로토콜 특징

1. **클라이언트 서버 구조**

- Request Response 구조
- 클라이언트는 서버에 요청을 보내고, 응답을 대기
- 서버가 요청에 대한 결과를 만들어서 응답

2. **Stateless(무상태)**

- 서버가 클라이언트의 상태를 보존하지 않는다.
- 장점 : 서버 확장성 높음(Scale-Out)
- 단점 : 클라이언트가 추가 데이터 전송

상태가 유지되려면 항상 같은 서버가 유지되어야 한다. 하지만 무상태의 경우 상태를 보관하지 않기 때문에 아무 서버나 호출해도 된다. 중간에 서버가 장애났을 경우 다른 서버로 교체만 해주면 되기 때문이다. 

3. **Connectionless(비연결성)**

클라이언트가 서버에 요청을 보내고 응답을 받게되면 바로 클라이언트와 서버의 연결을 끊어버린다. 따라서 서버는 최소한의 자원만을 사용하게 되기 때문에 효율적이다.

TCP/IP 연결을 새로 맺어야 하는 한계가 있지만, 지금은 HTTP 지속 연결로 해결되었다.

## HTTP 상태코드

- **1xx** (Informational) : 해당 요청에 대한 **프로세스를 진행중**

- **2xx** (Successful): **요청이 성공적으로 처리됨**
  - 200 : 서버가 요청을 성공적으로 처리함(OK)
  - 201 : 서버가 요청을 제대로 처리했고, 요청에 따른 새로운 리소스가 서버에 저장됨(Created)
  - 202 : 서버가 요청을 접수했으나 처리가 완료되지 않았음(Accepted)
  - 204 : 서버가 요청을 제대로 처리했지만, 응답 본문에 보낼 데이터가 없음(No Content)

- **3xx** (Redirection): 클라이언트는 **요청을 마치기 위해 추가 동작을 취해야 한다.** 웹 브라우저는 3xx 응답의 결과에 Location 헤더가 있으면 Location 위치로 자동 이동한다.
  - 301 : 리소스의 URI가 영구적으로 이동한다. 리다이렉트시 요청 메소드가 GET으로 변하고, 본문이 제거될 수 있음
  - 308 : 리소스의 URI가 영구적으로 이동한다. 리다이렉트시 요청 메소드와 본문 유지
  - 302 : 리소스의 URI가 일시적으로 변경한다. 리다이렉트시 요청 메소드가 GET으로 변하고, 본문이 제거될 수 있음
  - 303 : 리소스의 URI가 일시적으로 변경한다. 리다이렉트시 요청 메소드와 본문 유지
  - 307 : 리소스의 URI가 일시적으로 변경한다. 리다이렉트시 요청 메소드가 GET으로 변경
  - 304 : 캐시를 목적으로 사용. 클라이언트에게 리소스가 수정되지 않았음을 알려준다. 따라서 클라이언트는 로컬PC에 저장된 캐시를 재사용한다.(캐시로 리다이렉트 한다.)

- **4xx** (Client Error):  클라이언트의 요청에 잘못된 문법등으로 서버가 요청을 처리할 수 없음(**오류의 원인이 클라이언트에 있음**)
  - 400 : 서버가 요청 구문을 인식하지 못함
  - 401 : 클라이언트가 인증되지 않음 cf) 인증 : 본인이 누구인지 확인(로그인), 인가 : 권한부여(인증이 있어야 인가가 있음)
  - 403 : 클라이언트가 리소스에 대한 필요 권한을 갖고 있지 않음(401은 인증 자체가 실패, 403은 인증은 됐지만 해당 사용자의 권한이 없을 때)
  - 404 : 요청 리소스를 찾을 수 없음
  
- **5xx** (Server Error): 서버 오류로, 요청을 명백하게 수행하지 못했음(**오류의 원인이 서버에 있음**)
  - 500 : 서버에 오류가 발생하여 요청을 수행할 수 없음
  - 501 : 서버에 요청을 처리할 수 있는 기능이 없음
  - 503 : 서버의 유지보수로 작동이 중단되거나 과부하가 걸린 상태


