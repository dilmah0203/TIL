## HTTPS

HTTPS는 HTTP에 데이터 암호화가 추가된 프로토콜이다. HTTPS는 대칭키 암호화 방식과 비대칭키 암호화 방식을 모두 사용하고 있으며 암호화 방식은 다음과 같다.

- 대칭키 암호화 
    - 클라이언트와 서버가 서로 동일한 키를 사용해 암호화/복호화를 진행
    - 키가 노출되면 위험하지만 연산 속도가 빠르다.
- 비대칭키 암호화 
    - 1개의 쌍으로 구성된 공개키와 개인키를 사용해 암호화/복호화를 진행
    - 키가 노출되어도 비교적 안전하지만 연산 속도가 느리다.

비대칭키 암호화에서 공개키와 개인키는 서로를 위한 1쌍의 키이다.

- 공개키 : 모두에게 공개가능한 키
- 개인키 : 타인에게 절대 노출되어서는 안되는 키

암호화를 공개키로 하느냐 개인키로 하느냐에 따라 다른 효과를 얻을 수 있다.

[img](https://github.com/dilmah0203/TIL/blob/main/Image/Asymmetric%20key%20encryption.PNG)

- 공개키 암호화 : 공개키로 암호화를 하면 개인키로만 복호화할 수 있다. 제 3자는 데이터를 볼 수 없으므로 데이터가 안전하게 전송된 다는 것을 보장한다.
- 개인키 암호화 : 개인키로 암호화를 하면 공개키로만 복호화할 수 있다. 암호화된 데이터가 공개키로 복호화된다는 것은 그 데이터가 공개키와 쌍을 이루는 개인키에 의해 암호화되었다는 것을 의미한다. 즉 공개키가 데이터를 제공한 사람의 신원을 보장해주게 되는 것이고, 이러한 것을 전자 서명이라고 부른다.

### CA

인증서의 역할은 클라이언트가 접속한 서버가 클라이언트가 의도한 서버가 맞는지 보장하는 역할을 한다. 이 역할을 하는 기업들을 CA라고 한다. SSL을 통해 암호화된 통신을 제공하려는 서비스는 CA를 통해 SSL 인증서를 구입해야 한다.

### SSL

SSL 인증서에는 다음 정보가 포함되어 있다.

1. 서비스의 정보(인증서를 발급한 CA, 서비스 도메인 등)
2. 서버 측 공개키

1번은 클라이언트가 접속한 서버가 클라이언트가 의도한 서버가 맞는지에 대한 내용을 담고 있고, 2번은 서버와 통신을 할 때 사용할 공개키 정보를 담고 있다. 위 내용은 CA에 의해서 암호화 된다.

### SSL 인증서를 발급받는 과정

1. 서버는 한 쌍의 공개키와 개인키를 생성하고 서비스의 정보와 자신의 공개키를 CA에 전달하여 SSL 인증서 생성을 요청한다.
2. CA는 서버로부터 받은 정보들을 담아 SSL 인증서를 발급한다. 
3. **이 때 CA는 공개키와 개인키를 생성한다. CA의 개인키를 이용해 SSL 인증서를 암호화 한다.**
4. 암호화한 SSL 인증서를 다시 서버에 전달한다.

### SSL Handshake 동작 원리 및 과정 