## 리소스를 직접 명시하지 말고 의존 객체 주입을 사용하라

### static 유틸리티 클래스

많은 클래스는 하나 이상의 리소스에 의존한다. 예로 맞춤법 검사기 `SpellChecker`는 `dictionary`를 사용하고, 이를 의존성이라고 부른다. 이때 `SpellChecker`를 다음과 같이 구현할 수 있습니다.

```java
public class SpellChecker {

    //부적절한 static 유틸리티 클래스 사용 예
    private static final Lexicon dictionary = new KoreanDictionary();

    private SpellChecker() {
    }

    public static boolean isValid(String word) {
        throw new UnsupportedOperationException();
    }

    public static List<String> suggestions(String typo) {
        throw new UnsupportedOperationException();
    }
}
```

```java
SpellChecker.isValid("hello");
```

아래의 코드를 보면 한국어 사전으로 고정이 되어있습니다. 다른 사전으로 이용하기 위해서는 코드를 변경해야 하므로 유연하지 못하고 테스트하기 어렵습니다.

```java
private static final Lexicon dictionary = new KoreanDictionary();
```

### 싱글톤으로 구현하기

```java
public class SpellChecker {

    private final Lexicon dictionary = new KoreanDictionary();

    private SpellChecker() {
    }

    public static final SpellChecker INSTANCE = new SpellChecker() {
    };

    public boolean isValid(String word) {
        throw new UnsupportedOperationException();
    }

    public List<String> suggestions(String typo) {
        throw new UnsupportedOperationException();
    }
}
```

```java
SpellChecker.INSTANCE.isValid("hello"); //싱글톤 인스턴스를 통해 메소드 사용
```

사전을 하나만 사용할꺼라면 위와 같은 구현도 만족스러울 수 있겠지만, 실제로는 사전이 언어별로 따로 있고 테스트를 위해 테스트용 사전을 사용하고 싶을 수도 있습니다.

**어떤 클래스가 사용하는 리소스에 따라 동작을 달리 해야 하는 경우에는 static 유틸리티 클래스와 싱글톤을 사용하는 것은 적합하지 않습니다.** 이러한 요구 사항을 만족하기 위해 **인스턴스를 생성할 때 생성자에 필요한 자원을 넘겨주는 방법**이 있습니다.





