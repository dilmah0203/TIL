## 단방향 암호화

암호화된 데이터에 대한 복호화가 불가능한 암호화 방식이다. 대표적으로 Hash와 MAC이 있다. 

### Hash

임의의 길이 메세지로부터 고정길이의 해시값을 계산한다. 단방향 암호화이기 때문에 해시값으로부터 메세지를 구할 수 없다. 메세지가 다르면 해시값도 달라지는 특성으로 인해 해시함수를 무결성 확인의 용도로 사용한다. 만약 다른 메세지가 같은 해시값을 가지게 된다면 이것을 충돌이라고 한다.

**취약점**
- **Rainbow Table Attack** : 해시 알고리즘은 동일한 평문에 대하여 항상 동일한 해시값을 가진다. 따라서 특정 평문이 어떤 해시값을 가지는지 알 수 있다. 
이러한 특징을 이용하여 해시 값들을 대량으로 정리한 테이블이 존재하는데, 이를 레인보우 테이블이라 한다. 미리 해쉬값들을 계산해 놓은 테이블을 통해 역산한다.
- 처리속도가 최대한 빠르도록 설계된 해시함수의 속성 때문에 공격자는 매우 빠른 속도로 임의의 문자열의 해시값과 해킹할 대상의 해시값을 비교해 대상자를 공격할 수 있다.

**보완법**
- **Salting** : 단방향 해시로 암호화를 진행할 시, 본래 데이터에 추가 랜덤 데이터를 더하여 암호화를 진행하는 방식이다. 추가 데이터가 포함 되었기 때문에 원래 데이터의 해시값에서 달라진다.
- **Key Stretching** : 단방향 해시값을 계산 한 후 그 해시값을 해시하고 또 이를 반복하는 방식이다. 

![img](https://github.com/dilmah0203/TIL/blob/main/Image/Key_Stretching.png)

### MAC(Message Authentication Code)

임의 길이의 메세지와 송수신자가 공유하는 키를 기반으로 고정 길이의 출력값을 계산하는 함수로 나온 결과값을 MAC이라고 한다. 

![img2](https://github.com/dilmah0203/TIL/blob/main/Image/MAC.png)

메세지와 키를 이용해 MAC값을 구하고 송신자는 메세지에 MAC값을 끼워 보낸다. 
수신자는 받은 메세지와 본인의 키로 MAC값을 구하고 송신자가 보낸 MAC값과 일치하는지 확인한다. 이를 통해 메세지의 데이터 **인증**과 **무결성을 보장**한다.

## 양방향 암호화

양방향 암호화는 대칭형 암호화와 비대칭형 암호화가 존재한다. 대칭형 암호화와 비대칭형 암호화는 암호화할 때 사용하는 키와 복호화할 때 사용하는 키의 동일성에 대한 기준으로 구분하게 된다.

### 대칭키 암호화

암복호화키가 동일하며 해당 키를 아는 사람만 복호화할 수 있다. 대표적인 대칭키 양방향 알고리즘으로는 AES가 있다.

**장점**
- 공개키 암호화 방식에 비해 **속도가 빠르다.**

**단점**
- 키를 교환해야하는 문제가 발생한다.
- 키를 교환하는 중에 탈취될 수 있다.
- 사람이 증가할수록 전부 키를 교환해야 하므로 관리해야할 키가 방대해진다.

### 비대칭키 암호화

대칭키 암호화는 암호화하는 키와 복호화하는 키가 동일 했다면, 비대칭키 암호화는 암호화에 사용하는 키와 복호화에 사용하는 키가 서로 다르다. 공개키는 모든 사람이 접근 가능한 키이고 개인키는 각 사용자만이 가지고 있는 키이다. 이 두 개의 키를 Key Pair라 한다.

- 공개키를 사용자에게 전달한다.
- 사용자는 데이터를 암호화 할 때 서버에서 받은 공개키를 사용한다.
- 서버는 사용자가 보낸 암호화된 데이터를 개인키로 복호화해 내용을 확인한다.

**장점**
- 공개키는 공개되어 있으므로 **키 교환을 하지 않아도 된다.**
- 개인키를 가지고 있는 수신자만이 암호화된 데이터를 복호화할 수 있으므로 인증기능을 제공한다.

**단점**
- 대칭키 암호화 방식에 비해 **속도가 느리다.**


